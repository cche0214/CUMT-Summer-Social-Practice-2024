<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>中国矿业大学·E新向党实践团</title>
    <link rel="icon" href="./images/中国矿业大学_校徽.png" type="image/png">

    <style>
        /* body标签和容器container标签 */
        body {
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            width: 100%;
            max-width: 1200px;
            margin: auto;
        }

        /* 头顶header标签栏，有校徽和团队名称 */
        header {
            background: #f4f4f4;
            padding: 20px 0;
            text-align: center;
            height: 100px;
        }
        /* 导航栏CSS样式 */
        nav {
            display: flex;
            justify-content: center;
            background: rgb(30,50,100);
            padding: 5px 0;
        }
        nav a {
            color:white;
            padding: 10px 30px;
            text-decoration: none;
            font-size: 16px;
        }
        nav a.active {
            background-color: rgba(173, 216, 230, 0.6); /* 淡蓝色背景 */
        }
        nav a:hover {
            color: #ff9900;
        }
       
       
        .footer {
            background: rgb(30,50,100);
            color: #fff;
            text-align: center;
            padding: 12px 0;
            font-size: 14px;
        }
        /* 内容图片和介绍 */
        header img {
            width: 470px;
            height: 105px;
            display: inline;
        }
        header span {
            color: rgb(30,50,100);
            font-size: 50px;
            font-family: 楷体;
        }


        .screen {
    overflow: hidden;
    position: relative;
    height: calc(100vh); /* 保留发送框的高度 */
    background: url('./images/矿大美景1.jpg'); /* 默认背景图片 */
    background-size: cover; /* 背景图片填充 */
    background-position: center; /* 背景图片居中 */
    background-repeat: no-repeat; /* 背景图片不重复 */
    transition: background-image 1s ease-in-out; /* 背景图切换的过渡效果 */
}

.screen::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        rgba(255, 255, 255, 0.5), /* 背景图上层的颜色和透明度 */
        rgba(255, 255, 255, 0.5)
    );
    z-index: -1; /* 确保伪元素在内容后面 */
}



        .s_show div {
            position: absolute;
            font-size: 18px;
            font-weight: bold;
        }
/* 修改 .send 的样式 */
.send {
    position: absolute;
    bottom: 0;
    width: 100%; /* 占满整个屏幕宽度 */
    height: 80px; /* 保持发送框的高度 */
    line-height: 80px; /* 垂直居中内容 */
    background-color: rgba(30, 50, 100, 0.6); /* 设置背景色 */
    text-align: center; /* 中心对齐 */
    box-sizing: border-box; /* 包括内边距在内计算宽度 */
}

/* 修改 .input 的样式 */
.input {
    display: flex; /* 使用flex布局 */
    justify-content: center; /* 水平居中对齐 */
    align-items: center; /* 垂直居中对齐 */
    height: 100%; /* 高度占满父元素 */
}

/* 修改 .text 的样式 */
.text {
    padding: 10px 0; /* 内边距 */
    font-size: 16px; /* 字体大小 */
    border: 1px solid #ddd; /* 边框颜色 */
    border-radius: 5px; /* 圆角 */
    width: 300px; /* 固定宽度 */
    box-sizing: border-box; /* 包括内边距在内计算宽度 */
    margin: 0; /* 消除外边距 */
    height: 40px; /* 固定高度 */
    line-height: 20px; /* 垂直居中文本 */
}


/* 修改 .btn 的样式 */
.btn {
    padding: 10px 20px; /* 调整内边距 */
    font-size: 16px; /* 字体大小 */
    background-color: rgb(30,50,100); /* 背景颜色 */
    color: #fff; /* 字体颜色 */
    cursor: pointer; /* 鼠标指针样式 */
    border-radius:5px; /* 圆角 */
    border: none; /* 移除边框 */
    margin-left: 10px; /* 消除外边距 */
    box-sizing: border-box; /* 包括内边距在内计算宽度 */
    height: 40px; /* 固定高度，与 .text 一致 */
    line-height: 20px; /* 垂直居中文本 */
}


/* 鼠标悬停时按钮字体变红 */
.btn:hover {
    color:  #ff9900; /* 字体变红 */
}


.magictime.twisterInUp {
    position: absolute;
    font-size: 18px;
    font-weight: bold;
    color: black; /* 弹幕颜色固定为黑色 */
    white-space: normal; /* 允许文本换行 */
    word-wrap: break-word; /* 长单词换行 */
    max-width: 500px; /* 设置最大宽度，可以根据需要调整 */
    padding: 5px; /* 内边距 */
    box-sizing: border-box; /* 包含边框和内边距 */
    background: rgba(255, 255, 255, 0.6); /* 半透明背景，方便阅读 */
    border-radius: 5px; /* 边角圆润 */
}

.magictime.twisterInUp:hover {
    animation-play-state: paused;
}

/* 添加动画效果 */
@keyframes twisterInUp {
    0% {
        transform: translateY(100%) rotate(0deg);
        opacity: 0;
    }
    100% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }
}

/* 应用动画 */
.magictime.twisterInUp {
    animation: twisterInUp 1s ease-out;
}
     

.magictime.paused {
    animation-play-state: paused;
}
* {
            margin: 0px;
            padding: 0px;
        }













        .banner {
    width: 1120px;
    margin: 0 auto;
    height: 730px;
    position: relative;
    overflow: hidden;
    margin-bottom: 20px;
}

.heading {
    text-align: center;
    color: rgb(30,50,100);
    font-size: 28px;
    margin-top: 0;
    margin-bottom: 3px;
    font-weight: 700;
}

.heading-hr {
    margin: 0;
    height: 2px;
    background-color: rgb(30,50,100);
    border: none;
}

.index {
    margin-top: 20px;
    background: #fff;
    color: #333;
    font-size: 18px;
}

.scroll-container {
    height: 700px;
    overflow: hidden;
    position: relative;
}

.scroll-content {
    position: absolute;
    width: 100%;
    animation: scroll 20s linear infinite;
}

.scroll-content p {
    margin: 0;
    padding: 10px 0;
    text-align: center;
    color: #333;
}

@keyframes scroll {
    0% {
        transform: translateY(0%);
    }
    100% {
        transform: translateY(-50%);
    }
}








@keyframes move {
    0% {
        top: 0;
    }
    100% {
        top: -400px;
    }
}

#wrapper {
    height: 700px;
    position: relative;
    margin-top: 0;
    overflow-x: hidden;
    overflow-y: hidden;
}

#list {
    position: absolute;
    animation: 5s move infinite linear;
    width: 100%;
}

#list li {
    font-family: 楷体;
    font-size: 18px; /* 字体大小增大 */
    color: white;
    flex: 1; /* 占据左侧的空间 */
    text-align: center;
    margin: 10px 0;
}

#list :nth-child(2n+1) {
    border-radius: 10px;
    background-color: rgb(30,50,100);
}
#list :nth-child(2n) {
    border-radius: 10px;
    background-color: rgb(30,50,100,0.6);
}
#wrapper:hover #list {
    animation-play-state: paused;
}

    </style>
</head>
<body>
    <header>
        <img src="./images/矿大校徽校名.png" alt="">
        <!-- 页眉部分 -->
        <span>&nbsp;&nbsp;红色攻城狮 ——“e新向党”实践团</span>
    </header>
    <nav>
        <a href="index.html">首页</a>
        <a href="ChinaMap.html">地图展示</a>
        <a href="redstoryindex.html">革命故事</a>
        <a href="newsindex.html">实践新闻</a>
        <a href="messageboard.html" class="active">感悟心得</a>
        <a href="contractus.html">关于本站</a>
        <a href="comments.html">意见留言</a>
    </nav>

    <div class="container">
        
        <div class="screen">
            
            <div class="send">
                <div class="input clearfix">
                    <input type="text" class="text" placeholder="  请输入留言内容">
                    <div class="btn">留言</div>
                </div>
            </div>
    
            <div class="s_show">
                
     
                <div class="magictime twisterInUp">
                    通过社会实践，我学会了时间管理。
                </div>
     
                <div class="magictime twisterInUp">
                    实践活动让我更加理解了社会的多样性。
                </div>
                <div class="magictime twisterInUp">
                    劳动实践让我更懂得尊重每一个岗位。
                </div>
                <div class="magictime twisterInUp">
                    实践中学会了如何解决实际问题。
                </div>
                <div class="magictime twisterInUp">
                    亲身体验劳动，感悟人生不同阶段的意义。
                </div>
                <div class="magictime twisterInUp">
                    实践让我更深入了解了社会基层状况。
                </div>
                <div class="magictime twisterInUp">
                    社会实践增强了我的责任感和使命感。
                </div>
                <div class="magictime twisterInUp">
                    实践活动让我更加珍惜学习机会。
                </div>
                <div class="magictime twisterInUp">
                    通过社会实践，我增长了见识和技能。通过社会实践，我增长了见识和技能。
                </div>

            </div>
            
        </div>

        <div class="index">
            <div class="banner">
                <div class="heading">感悟心得</div><hr class="heading-hr">

                <div id="wrapper">  
                    <ul id="list">  
                        <li>永远比一辈子还长，谁能保证这样的誓言不会过期</li>  
                        <li>爱上一个人容易，等平淡了后，还坚守那份诺言，就不容易了</li>  
                        <li>爱情总藏在温柔的心里</li>  
                        <li>爱情是一种永久的信仰</li>  
                        <li>离开，也是一种喜欢；遗忘，也是一种幸福；放弃，也是一种爱</li>  
                        <li>常相知，才能不相疑；不相疑，才能常相知</li>  
                        <li>真正可贵的东西，不可能刻意得到，那需要同样可贵的缘分</li>  
                        <li>用一转身离开，用一辈子去忘记</li>  
                        <li>在爱的世界里，没有谁对不起谁，只有谁不懂得珍惜谁</li>  
                        <li>爱情就是上辈子欠下的情债这辈子来还</li>
                        <li>深情是我担不起的重担，情话只是偶然兑现的谎言</li>
                        <li>爱使我们有了距离，距离使我们爱得永久</li>
                        <li>要善待爱情，因为它不会一辈子跟着你</li>
                        <li>真正的爱情不仅要求相爱，而且要求相互洞察对方的内心世界在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任</li>
                        <li>爱是磕磕碰碰中的修修补补</li>
                        <li>在爱情上，没有相互的忠诚，就没有相互的信任</li>
                        <li>7月31日上午，“八一”建军节前夕，在全国上下学习贯彻党的二十届三中全会精神之际，</li>
                        <li>、科技体制改革和人才发展体制机制改革作出了重要部署，对作为三者交汇点的高校特别是“双一流”高校提出了更高要求。双方学校在立德树人、思想政治教育等方面有着共同目标和使命，空军勤务学院作为军事院校有着丰厚的</li>
                        <li>坚实的人才支撑，奋力书写</li>
                        <li>在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任</li>
                        <li>军事院校有着丰厚的思政资源和特色干部队伍建设模式，她希望双方携手加强合作，共同打造新时代军地高校协同创新发</li>
                        <li>刘波代表学校</li>
                        <li>在爱情上，没有相互的忠诚，就没有相互的信任</li>
                        <li>与矿大的联</li>
                        <li>在中国矿业大学是教育部直属的全国重点高校，是教育部、应急管理部与江苏省人民政府共建高校，先后进入国家“211工程”“985优势学科创新平台项目”和国家“双一流”建设高校行列。</li>
                        <li>在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任在爱情上，没有相互的忠诚，就没有相互的信任</li>
                        <li>共同打造新时代军地高校协同创新发展新典范，为强国建设、民族复兴作出新的更大贡献。</li>

                    </ul>  
                </div>  
            </div>
        </div>
        
        

    </div>

    <div class="footer">
        <!-- 页脚部分 -->
        <p>联系电话：13832379532&nbsp;电子信箱：08232716@cumt.edu.cn&nbsp;中国矿业大学·E心向党社会实践版权所有</p>
    </div>

<script>
const images = [
    './images/矿大美景1.jpg',
    './images/矿大美景2.jpg',
    './images/矿大美景3.jpg',
];

let currentIndex = 0;
const changeInterval = 5000; // 每5秒切换一次

function changeBackground() {
    const screenElement = document.querySelector('.screen');
    screenElement.style.backgroundImage = `url(${images[currentIndex]})`;
    currentIndex = (currentIndex + 1) % images.length;
}

// 初始化时设置一次背景
window.onload = function() {
    changeBackground(); 
    setInterval(changeBackground, changeInterval);
};
</script>

<script>
// 定义网格大小和缓冲区
const GRID_SIZE = 100; // 网格单元的宽高（可根据需要调整）
const BUFFER_SIZE = 10; // 缓冲区大小，单位是像素

// 创建网格
let grid = [];

// 初始化网格
function initGrid() {
    const screenWidth = document.documentElement.clientWidth;
    const screenHeight = document.documentElement.clientHeight;
    const numRows = Math.ceil(screenHeight / GRID_SIZE);
    const numCols = Math.ceil(screenWidth / GRID_SIZE);
    grid = Array.from({ length: numRows }, () => Array(numCols).fill(false));
}

// 获取网格位置
function getGridPosition(top, left) {
    const row = Math.floor((top + BUFFER_SIZE) / GRID_SIZE);
    const col = Math.floor((left + BUFFER_SIZE) / GRID_SIZE);
    return [row, col];
}

// 检查位置是否可用
function isPositionAvailable(top, left, objWidth, objHeight) {
    const [startRow, startCol] = getGridPosition(top - BUFFER_SIZE, left - BUFFER_SIZE);
    const [endRow, endCol] = getGridPosition(top + objHeight + BUFFER_SIZE, left + objWidth + BUFFER_SIZE);
    for (let row = startRow; row <= endRow; row++) {
        for (let col = startCol; col <= endCol; col++) {
            if (grid[row] && grid[row][col]) {
                return false;
            }
        }
    }
    return true;
}

// 占用网格位置
function occupyGrid(top, left, objWidth, objHeight) {
    const [startRow, startCol] = getGridPosition(top, left);
    const [endRow, endCol] = getGridPosition(top + objHeight, left + objWidth);
    for (let row = startRow; row <= endRow; row++) {
        for (let col = startCol; col <= endCol; col++) {
            if (grid[row]) {
                grid[row][col] = true;
            }
        }
    }
}

// 清除网格位置
function clearGrid(top, left, objWidth, objHeight) {
    const [startRow, startCol] = getGridPosition(top, left);
    const [endRow, endCol] = getGridPosition(top + objHeight, left + objWidth);
    for (let row = startRow; row <= endRow; row++) {
        for (let col = startCol; col <= endCol; col++) {
            if (grid[row]) {
                grid[row][col] = false;
            }
        }
    }
}

// 初始化弹幕
function init(obj) {
    const screenHeight = document.documentElement.clientHeight;
    const maxTop = screenHeight - oSend.offsetHeight - obj.offsetHeight;
    const screenWidth = document.documentElement.clientWidth;
    const maxLeft = screenWidth - obj.offsetWidth;

    let top, left;
    let attempts = 0;

    // 尝试找到一个可用的位置
    do {
        top = maxTop * Math.random();
        left = maxLeft * Math.random();
        attempts++;
        // 如果尝试次数过多，则使用默认位置
        if (attempts > 100) {
            top = maxTop * Math.random();
            left = maxLeft * Math.random();
            break;
        }
    } while (!isPositionAvailable(top, left, obj.offsetWidth, obj.offsetHeight));

    obj.style.top = top + "px";
    obj.style.left = left + "px";
    occupyGrid(top, left, obj.offsetWidth, obj.offsetHeight);
    obj.setAttribute('data-speed', Math.random() * 0.5 + 0.5);

    obj.setAttribute('data-moving', 'true'); // 标记为正在移动
    move(obj);
}

// 移动函数
function move(obj) {
    const speed = parseFloat(obj.getAttribute('data-speed'));
    let maxLeft = parseFloat(obj.style.left);

    function animate() {
        if (obj.getAttribute('data-moving') === 'true') {
            maxLeft -= speed;
            if (maxLeft > -obj.offsetWidth) {
                obj.style.left = maxLeft + "px";
                requestAnimationFrame(animate);
            } else {
                clearGrid(parseFloat(obj.style.top), parseFloat(obj.style.left), obj.offsetWidth, obj.offsetHeight);
                init(obj);
            }
        }
    }

    requestAnimationFrame(animate);
}

// 防抖函数，减少频繁的事件处理调用
function debounce(func, delay) {
    let timeout;
    return function (...args) {
        if (timeout) {
            cancelAnimationFrame(timeout);
        }
        timeout = requestAnimationFrame(() => func.apply(this, args));
    };
}

// 处理鼠标悬停事件
const debouncedMouseOver = debounce(function (e) {
    if (e.target.classList.contains('magictime')) {
        var obj = e.target;
        obj.setAttribute('data-moving', 'false'); // 暂停动画
    }
}, 0);

// 处理鼠标离开事件
const debouncedMouseOut = debounce(function (e) {
    if (e.target.classList.contains('magictime')) {
        var obj = e.target;
        obj.setAttribute('data-moving', 'true'); // 恢复动画
        move(obj);
    }
}, 0);

var aShowList = document.querySelectorAll(".s_show div");
var oShow = document.querySelector(".s_show");
var oSend = document.querySelector(".send");
var oBtn = document.querySelector(".btn");
var oText = document.querySelector(".text");

// 添加事件监听
oShow.addEventListener('mouseover', debouncedMouseOver);
oShow.addEventListener('mouseout', debouncedMouseOut);

// 按钮点击事件
oBtn.onclick = function () {
    var oDiv = document.createElement("div");
    oDiv.innerHTML = oText.value;
    oDiv.className = "magictime twisterInUp"; // 确保弹幕使用 CSS 中定义的样式
    oShow.appendChild(oDiv);
    init(oDiv);
    oText.value = "";
};

// 初始化已存在的弹幕
for (var i = 0; i < aShowList.length; i++) {
    init(aShowList[i]);
}

// 初始网格
initGrid();
</script>


</body>
</html>
